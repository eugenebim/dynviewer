<Window x:Class="DynViewer.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:DynViewer"
        mc:Ignorable="d"
        Title=".dyn Minimal Viewer" Width="1000" Height="700"
        Background="#1e1e1e">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Top bar -->
        <DockPanel Grid.Row="0" Margin="8">
            <Button Content="Open .dyn" Click="OpenDyn_Click" Padding="8,4" Margin="0,0,8,0"/>
            <TextBlock x:Name="StatusText" Foreground="White" VerticalAlignment="Center"/>
        </DockPanel>

        <!-- Canvas for nodes and connectors -->
        <!-- Use a Grid or Border to clip the canvas -->
        <Border Grid.Row="1" ClipToBounds="True" Background="#202020" 
                MouseWheel="GraphCanvas_MouseWheel"
                MouseLeftButtonDown="GraphCanvas_MouseLeftButtonDown"
                MouseLeftButtonUp="GraphCanvas_MouseLeftButtonUp"
                MouseMove="GraphCanvas_MouseMove"
                MouseDown="GraphCanvas_MouseDown">
            
            <Canvas x:Name="GraphCanvas" Width="0" Height="0" HorizontalAlignment="Left" VerticalAlignment="Top">
                <Canvas.RenderTransform>
                    <MatrixTransform x:Name="GraphTransform"/>
                </Canvas.RenderTransform>
            </Canvas>
        </Border>
    </Grid>
</Window>
